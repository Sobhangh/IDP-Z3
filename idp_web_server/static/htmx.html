
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title></title>

  <!-- Materialize -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

</head>
<body>
  <div id="screen" class="container">
    <div class="row">
      <div class="col s12 m6 push-m3">
        <h4>Interactive Consultant</h4>
        <p class="flow-text">Choose an app:</p>
        <ul class="collection">
          <li class="collection-item"><a href="/htmx/file/open/specification.idp">Covid</a></li>
          <li class="collection-item"><a href="/htmx/file/open/polygon.idp">Polygon</a></li>
          <li class="collection-item"><a href="/htmx/file/open/simple_registratie.idp">Simple Registration</a></li>
          <li class="collection-item"><a href="/htmx/file/open/registratie.idp">Registration</a></li>
        </ul>
      </div>
    </div>
  </div>

  <!-- htmx -->
  <script src="https://unpkg.com/htmx.org@1.8.0" integrity="sha384-cZuAZ+ZbwkNRnrKi05G/fjBX+azI9DNOkNYysZ0I/X5ZFgsmMiBXgDZof30F5ofc" crossorigin="anonymous"></script>

  <script>
    htmx.onLoad(function(target) {

      // initialize tabs in materialize, if any
      target = document.querySelector('.tabs');
      if (target !== null) {
        M.Tabs.init(target, {'swipeable': true});
      }


      // increase height of carousel for swipeable tabs
      // https://github.com/Dogfalo/materialize/issues/4159
      function tabs_height() {
        let maxHeight = 0;
        const carouselItems = document.querySelectorAll('.collapsible');
        let currentItemHeight;
        carouselItems.forEach(item => {
            currentItemHeight = getComputedStyle(item).height;
            currentItemHeight = currentItemHeight.substring(0, currentItemHeight.indexOf('px')); // just removing the 'px' at the end
            if(+currentItemHeight > +maxHeight)
                maxHeight = currentItemHeight;
        });
        tabs = document.querySelector('.tabs-content');
        if (tabs) {
          tabs.style.height = String(+maxHeight+5)+'px';
        };
      }
      tabs_height();

      // initialize collapsibles
      var elems = document.querySelectorAll('.collapsible');
      var instances = M.Collapsible.init(elems, {onOpenEnd: tabs_height, onCloseEnd: tabs_height});

      // allow user to deselect radio buttons
      document.querySelectorAll('input[type="radio"]').forEach(x => x.addEventListener('click',function(){
        if(! this.value0 || this.value0 == 0){
          this.checked = true;
          document.querySelectorAll('input[type="radio"][name="'+this.name+'"]').forEach(x=>x.value0=0);
          this.value0 = 1;
        } else {
          this.checked = false;
          document.querySelectorAll('input[type="radio"][name="'+this.name+'"]').forEach(x=>x.value0=0);
          this.value0 = 0;
        }
      }))

    });
  </script>
</body>
</html>