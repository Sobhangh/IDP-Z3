And(q(red),
    q(blue),
    Not(q(green)),
    Not(p),
    Or(Not(Not(q(red))), red == color),
    Or(Not(Not(q(blue))), blue == color),
    Or(Not(Not(q(green))), green == color),
    red == color,
    blue == color,
    green == color,
    red == color,
    blue == color,
    green == color,
    red == color,
    blue == color,
    Or(Not(r(red)), red == color),
    Or(Not(r(red)), red == color),
    Or(Not(r(blue)), blue == color),
    Or(Not(r(blue)), blue == color),
    Or(Not(r(green)), green == color),
    Or(Not(r(green)), green == color),
    Or(color == red, color == blue, color == green))
And(q(red),
    q(blue),
    Not(q(green)),
    red == color,
    blue == color,
    Or(Not(r(red)), red == color),
    Or(Not(r(red)), red == color),
    Or(Not(r(blue)), blue == color),
    Or(Not(r(blue)), blue == color),
    Or(Not(r(green)), green == color),
    Or(Not(r(green)), green == color),
    Or(color == red, color == blue, color == green))
And(q(red),
    q(blue),
    Not(q(green)),
    Or(Not(Not(q(red))), red == color),
    Or(Not(Not(q(blue))), blue == color),
    Or(Not(Not(q(green))), green == color),
    red == color,
    blue == color,
    green == color,
    Or(color == red, color == blue, color == green))
And(Or(Not(q(red)),
       Or(Not(q(red)), And(red == color, red == color))),
    Or(Not(q(blue)),
       Or(Not(q(red)), And(red == color, blue == color))),
    Or(Not(q(green)),
       Or(Not(q(red)), And(red == color, green == color))),
    Or(Not(q(red)),
       Or(Not(q(blue)), And(blue == color, red == color))),
    Or(Not(q(blue)),
       Or(Not(q(blue)), And(blue == color, blue == color))),
    Or(Not(q(green)),
       Or(Not(q(blue)), And(blue == color, green == color))),
    Or(Not(q(red)),
       Or(Not(q(green)), And(green == color, red == color))),
    Or(Not(q(blue)),
       Or(Not(q(green)), And(green == color, blue == color))),
    Or(Not(q(green)),
       Or(Not(q(green)),
          And(green == color, green == color))),
    Or(Not(q(red)), red == color),
    Or(Not(q(blue)), blue == color),
    Or(Not(q(green)), green == color),
    Or(color == red, color == blue, color == green))
And(Or(Not(compatible(red, red)), Or(Not(r(red)), r(red))),
    Or(Not(compatible(red, blue)), Or(Not(r(red)), r(blue))),
    Or(Not(compatible(red, green)),
       Or(Not(r(red)), r(green))),
    Or(Not(compatible(blue, red)), Or(Not(r(blue)), r(red))),
    Or(Not(compatible(blue, blue)),
       Or(Not(r(blue)), r(blue))),
    Or(Not(compatible(blue, green)),
       Or(Not(r(blue)), r(green))),
    Or(Not(compatible(green, red)),
       Or(Not(r(green)), r(red))),
    Or(Not(compatible(green, blue)),
       Or(Not(r(green)), r(blue))),
    Or(Not(compatible(green, green)),
       Or(Not(r(green)), r(green))),
    Or(color == red, color == blue, color == green))
