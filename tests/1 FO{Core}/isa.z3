
-- original ---------------------------------
vocabulary isa {
    type type := {'1tri angle', 'quadrilateral'}
    Type : ()→type


    type subtype :=
        { regular_triangle
        , right_triangle
        , rectangle
        , square}
    Subtype : ()→subtype

    isa: (subtype ⨯ type) → Bool

    [ASI]
        [short:this is a short info]
        [long:long, this is a long info]
    asi: (type ⨯ subtype) → Bool
    typeOf: (subtype)→ type
}

theory T:isa {
    !t in type, st in subtype: isa(st,t) <=> asi(t, st).
    !t in type, st in subtype: typeOf(st) = t <=> isa(st, t).
    !st in subtype: isa(st, typeOf(st)).
    Type() = typeOf(Subtype()).
    isa(regular_triangle, '1tri angle').
}

structure isa:isa {
    isa := {(regular_triangle, '1tri angle'), (right_triangle, '1tri angle'),
           (rectangle, quadrilateral), (square, quadrilateral)}.
}
-- meta -------------------------------------
{'manualPropagation': False,
 'manualRelevance': False,
 'optionalPropagation': False,
 'optionalRelevance': False,
 'symbols': [{'environmental': False,
              'idpname': 'Type',
              'priority': 'core',
              'showOptimize': True,
              'type': 'function',
              'view': 'normal'},
             {'environmental': False,
              'idpname': 'Subtype',
              'priority': 'core',
              'showOptimize': True,
              'type': 'function',
              'view': 'normal'},
             {'environmental': False,
              'idpname': 'isa',
              'priority': 'core',
              'showOptimize': True,
              'type': 'function',
              'view': 'normal'},
             {'environmental': False,
              'guiname': 'ASI',
              'idpname': 'asi',
              'longinfo': 'long, this is a long info',
              'priority': 'core',
              'shortinfo': 'this is a short info',
              'showOptimize': True,
              'type': 'function',
              'view': 'normal'},
             {'environmental': False,
              'idpname': 'typeOf',
              'priority': 'core',
              'showOptimize': True,
              'type': 'function',
              'view': 'normal'}],
 'title': 'Interactive Consultant'}

-- propagation ------------------------------
{' Global': {'env_dec': False},
 'Subtype': {'Subtype()': {'environmental': False,
                           'is_assignment': True,
                           'normal': True,
                           'reading': 'Subtype',
                           'relevant': True,
                           'status': 'UNKNOWN',
                           'typ': 'subtype',
                           'values': ['regular_triangle', 'right_triangle', 'rectangle', 'square']}},
 'Type': {'Type()': {'environmental': False,
                     'is_assignment': True,
                     'normal': True,
                     'reading': 'Type',
                     'relevant': True,
                     'status': 'UNKNOWN',
                     'typ': 'type',
                     'values': ['1tri angle', 'quadrilateral']},
          'Type() = typeOf(Subtype())': {'environmental': False,
                                         'is_assignment': False,
                                         'normal': False,
                                         'reading': 'Type = typeOf(Subtype)',
                                         'relevant': False,
                                         'status': 'UNIVERSAL',
                                         'typ': 'Bool',
                                         'value': True}},
 'asi': {'asi(1tri angle, rectangle)': {'environmental': False,
                                        'is_assignment': False,
                                        'normal': True,
                                        'reading': 'asi(1tri angle, rectangle)',
                                        'relevant': False,
                                        'status': 'UNIVERSAL',
                                        'typ': 'Bool',
                                        'value': False},
         'asi(1tri angle, regular_triangle)': {'environmental': False,
                                               'is_assignment': False,
                                               'normal': True,
                                               'reading': 'asi(1tri angle, regular_triangle)',
                                               'relevant': False,
                                               'status': 'UNIVERSAL',
                                               'typ': 'Bool',
                                               'value': True},
         'asi(1tri angle, right_triangle)': {'environmental': False,
                                             'is_assignment': False,
                                             'normal': True,
                                             'reading': 'asi(1tri angle, right_triangle)',
                                             'relevant': False,
                                             'status': 'UNIVERSAL',
                                             'typ': 'Bool',
                                             'value': True},
         'asi(1tri angle, square)': {'environmental': False,
                                     'is_assignment': False,
                                     'normal': True,
                                     'reading': 'asi(1tri angle, square)',
                                     'relevant': False,
                                     'status': 'UNIVERSAL',
                                     'typ': 'Bool',
                                     'value': False},
         'asi(quadrilateral, rectangle)': {'environmental': False,
                                           'is_assignment': False,
                                           'normal': True,
                                           'reading': 'asi(quadrilateral, rectangle)',
                                           'relevant': False,
                                           'status': 'UNIVERSAL',
                                           'typ': 'Bool',
                                           'value': True},
         'asi(quadrilateral, regular_triangle)': {'environmental': False,
                                                  'is_assignment': False,
                                                  'normal': True,
                                                  'reading': 'asi(quadrilateral, regular_triangle)',
                                                  'relevant': False,
                                                  'status': 'UNIVERSAL',
                                                  'typ': 'Bool',
                                                  'value': False},
         'asi(quadrilateral, right_triangle)': {'environmental': False,
                                                'is_assignment': False,
                                                'normal': True,
                                                'reading': 'asi(quadrilateral, right_triangle)',
                                                'relevant': False,
                                                'status': 'UNIVERSAL',
                                                'typ': 'Bool',
                                                'value': False},
         'asi(quadrilateral, square)': {'environmental': False,
                                        'is_assignment': False,
                                        'normal': True,
                                        'reading': 'asi(quadrilateral, square)',
                                        'relevant': False,
                                        'status': 'UNIVERSAL',
                                        'typ': 'Bool',
                                        'value': True},
         '∀ t ∈ type,st ∈ subtype: isa(st, t) ⇔ asi(t, st)': {'environmental': False,
                                                              'is_assignment': False,
                                                              'normal': False,
                                                              'reading': '∀ t ∈ type,st ∈ subtype: isa(st, t) ⇔ asi(t, '
                                                                         'st)',
                                                              'relevant': False,
                                                              'status': 'UNIVERSAL',
                                                              'typ': 'Bool',
                                                              'value': True}},
 'isa': {},
 'typeOf': {'typeOf(Subtype())': {'environmental': False,
                                  'is_assignment': True,
                                  'normal': False,
                                  'reading': 'typeOf(Subtype)',
                                  'relevant': True,
                                  'status': 'UNKNOWN',
                                  'typ': 'type',
                                  'values': ['1tri angle', 'quadrilateral']},
            'typeOf(rectangle)': {'environmental': False,
                                  'is_assignment': True,
                                  'normal': True,
                                  'reading': 'typeOf(rectangle)',
                                  'relevant': False,
                                  'status': 'UNIVERSAL',
                                  'typ': 'type',
                                  'value': 'quadrilateral',
                                  'values': ['quadrilateral']},
            'typeOf(regular_triangle)': {'environmental': False,
                                         'is_assignment': True,
                                         'normal': True,
                                         'reading': 'typeOf(regular_triangle)',
                                         'relevant': False,
                                         'status': 'UNIVERSAL',
                                         'typ': 'type',
                                         'value': '1tri angle',
                                         'values': ['1tri angle']},
            'typeOf(right_triangle)': {'environmental': False,
                                       'is_assignment': True,
                                       'normal': True,
                                       'reading': 'typeOf(right_triangle)',
                                       'relevant': False,
                                       'status': 'UNIVERSAL',
                                       'typ': 'type',
                                       'value': '1tri angle',
                                       'values': ['1tri angle']},
            'typeOf(square)': {'environmental': False,
                               'is_assignment': True,
                               'normal': True,
                               'reading': 'typeOf(square)',
                               'relevant': False,
                               'status': 'UNIVERSAL',
                               'typ': 'type',
                               'value': 'quadrilateral',
                               'values': ['quadrilateral']},
            '∀ st ∈ subtype: isa(st, typeOf(st))': {'environmental': False,
                                                    'is_assignment': False,
                                                    'normal': False,
                                                    'reading': '∀ st ∈ subtype: isa(st, typeOf(st))',
                                                    'relevant': False,
                                                    'status': 'UNIVERSAL',
                                                    'typ': 'Bool',
                                                    'value': True},
            '∀ t ∈ type,st ∈ subtype: typeOf(st) = t ⇔ isa(st, t)': {'environmental': False,
                                                                     'is_assignment': False,
                                                                     'normal': False,
                                                                     'reading': '∀ t ∈ type,st ∈ subtype: typeOf(st) = '
                                                                                't ⇔ isa(st, t)',
                                                                     'relevant': False,
                                                                     'status': 'UNIVERSAL',
                                                                     'typ': 'Bool',
                                                                     'value': True}}}
