
-- original ---------------------------------
// https://dmcommunity.wordpress.com/challenge/challenge-nov-2015/

vocabulary {
	type Monkey_t := { Anna, Sam, Harriet, Mike }
	type Place_t := { Grass, Rock, Branch, Stream }
	type Fruit_t := { Apple, Pear, Banana, Orange }
	Place:(Monkey_t)→ Place_t
	Fruit:(Monkey_t)→ Fruit_t
}
theory {
	//Monkey Constraints
	!Monkey in Monkey_t: Monkey = Sam => Place(Monkey) = Grass & Fruit(Monkey) ~= Banana.

	!Monkey in Monkey_t: Place(Monkey) = Rock => Fruit(Monkey) = Apple.

	!Monkey in Monkey_t: Fruit(Monkey) = Pear => Place(Monkey) ~= Branch.

	!Monkey in Monkey_t: Monkey = Anna => Place(Monkey) = Stream & Fruit(Monkey) ~= Pear.

	!Monkey in Monkey_t: Monkey = Harriet => Place(Monkey) ~= Branch.

	!Monkey in Monkey_t: Monkey = Mike => Fruit(Monkey) ~= Orange.

	//Different Preferences
	!m1 in Monkey_t: !m2 in Monkey_t: m2 ~= m1 => Place(m1) ~= Place(m2) & Fruit(m1) ~= Fruit(m2).

}


structure {
}

-- meta -------------------------------------
{'manualPropagation': False,
 'optionalPropagation': False,
 'symbols': [{'environmental': False,
              'idpname': 'Place',
              'priority': 'core',
              'showOptimize': True,
              'type': 'function',
              'view': 'normal'},
             {'environmental': False,
              'idpname': 'Fruit',
              'priority': 'core',
              'showOptimize': True,
              'type': 'function',
              'view': 'normal'}],
 'title': 'Interactive Consultant'}

-- propagation ------------------------------
{' Global': {'active': '{}', 'env_dec': False},
 'Fruit': {'Fruit(Anna)': {'environmental': False,
                           'is_assignment': True,
                           'normal': True,
                           'reading': 'Fruit(Anna)',
                           'relevant': False,
                           'status': 'CONSEQUENCE',
                           'typ': 'Fruit_t',
                           'value': 'Orange',
                           'values': ['Apple', 'Pear', 'Banana', 'Orange']},
           'Fruit(Anna) = Apple': {'environmental': False,
                                   'is_assignment': True,
                                   'normal': False,
                                   'reading': 'Fruit(Anna) = Apple',
                                   'relevant': False,
                                   'status': 'CONSEQUENCE',
                                   'typ': 'Bool',
                                   'value': False},
           'Fruit(Anna) = Banana': {'environmental': False,
                                    'is_assignment': True,
                                    'normal': False,
                                    'reading': 'Fruit(Anna) = Banana',
                                    'relevant': False,
                                    'status': 'CONSEQUENCE',
                                    'typ': 'Bool',
                                    'value': False},
           'Fruit(Anna) = Orange': {'environmental': False,
                                    'is_assignment': True,
                                    'normal': False,
                                    'reading': 'Fruit(Anna) = Orange',
                                    'relevant': False,
                                    'status': 'CONSEQUENCE',
                                    'typ': 'Bool',
                                    'value': True},
           'Fruit(Anna) = Pear': {'environmental': False,
                                  'is_assignment': True,
                                  'normal': False,
                                  'reading': 'Fruit(Anna) = Pear',
                                  'relevant': False,
                                  'status': 'UNIVERSAL',
                                  'typ': 'Bool',
                                  'value': False},
           'Fruit(Harriet)': {'environmental': False,
                              'is_assignment': True,
                              'normal': True,
                              'reading': 'Fruit(Harriet)',
                              'relevant': False,
                              'status': 'CONSEQUENCE',
                              'typ': 'Fruit_t',
                              'value': 'Apple',
                              'values': ['Apple', 'Pear', 'Banana', 'Orange']},
           'Fruit(Harriet) = Apple': {'environmental': False,
                                      'is_assignment': True,
                                      'normal': False,
                                      'reading': 'Fruit(Harriet) = Apple',
                                      'relevant': False,
                                      'status': 'CONSEQUENCE',
                                      'typ': 'Bool',
                                      'value': True},
           'Fruit(Harriet) = Banana': {'environmental': False,
                                       'is_assignment': True,
                                       'normal': False,
                                       'reading': 'Fruit(Harriet) = Banana',
                                       'relevant': False,
                                       'status': 'CONSEQUENCE',
                                       'typ': 'Bool',
                                       'value': False},
           'Fruit(Harriet) = Orange': {'environmental': False,
                                       'is_assignment': True,
                                       'normal': False,
                                       'reading': 'Fruit(Harriet) = Orange',
                                       'relevant': False,
                                       'status': 'CONSEQUENCE',
                                       'typ': 'Bool',
                                       'value': False},
           'Fruit(Harriet) = Pear': {'environmental': False,
                                     'is_assignment': True,
                                     'normal': False,
                                     'reading': 'Fruit(Harriet) = Pear',
                                     'relevant': False,
                                     'status': 'CONSEQUENCE',
                                     'typ': 'Bool',
                                     'value': False},
           'Fruit(Mike)': {'environmental': False,
                           'is_assignment': True,
                           'normal': True,
                           'reading': 'Fruit(Mike)',
                           'relevant': True,
                           'status': 'CONSEQUENCE',
                           'typ': 'Fruit_t',
                           'value': 'Banana',
                           'values': ['Apple', 'Pear', 'Banana', 'Orange']},
           'Fruit(Mike) = Apple': {'environmental': False,
                                   'is_assignment': True,
                                   'normal': False,
                                   'reading': 'Fruit(Mike) = Apple',
                                   'relevant': False,
                                   'status': 'CONSEQUENCE',
                                   'typ': 'Bool',
                                   'value': False},
           'Fruit(Mike) = Banana': {'environmental': False,
                                    'is_assignment': True,
                                    'normal': False,
                                    'reading': 'Fruit(Mike) = Banana',
                                    'relevant': True,
                                    'status': 'CONSEQUENCE',
                                    'typ': 'Bool',
                                    'value': True},
           'Fruit(Mike) = Orange': {'environmental': False,
                                    'is_assignment': True,
                                    'normal': False,
                                    'reading': 'Fruit(Mike) = Orange',
                                    'relevant': True,
                                    'status': 'UNIVERSAL',
                                    'typ': 'Bool',
                                    'value': False},
           'Fruit(Mike) = Pear': {'environmental': False,
                                  'is_assignment': True,
                                  'normal': False,
                                  'reading': 'Fruit(Mike) = Pear',
                                  'relevant': False,
                                  'status': 'CONSEQUENCE',
                                  'typ': 'Bool',
                                  'value': False},
           'Fruit(Sam)': {'environmental': False,
                          'is_assignment': True,
                          'normal': True,
                          'reading': 'Fruit(Sam)',
                          'relevant': False,
                          'status': 'CONSEQUENCE',
                          'typ': 'Fruit_t',
                          'value': 'Pear',
                          'values': ['Apple', 'Pear', 'Banana', 'Orange']},
           'Fruit(Sam) = Apple': {'environmental': False,
                                  'is_assignment': True,
                                  'normal': False,
                                  'reading': 'Fruit(Sam) = Apple',
                                  'relevant': False,
                                  'status': 'CONSEQUENCE',
                                  'typ': 'Bool',
                                  'value': False},
           'Fruit(Sam) = Banana': {'environmental': False,
                                   'is_assignment': True,
                                   'normal': False,
                                   'reading': 'Fruit(Sam) = Banana',
                                   'relevant': False,
                                   'status': 'UNIVERSAL',
                                   'typ': 'Bool',
                                   'value': False},
           'Fruit(Sam) = Orange': {'environmental': False,
                                   'is_assignment': True,
                                   'normal': False,
                                   'reading': 'Fruit(Sam) = Orange',
                                   'relevant': False,
                                   'status': 'CONSEQUENCE',
                                   'typ': 'Bool',
                                   'value': False},
           'Fruit(Sam) = Pear': {'environmental': False,
                                 'is_assignment': True,
                                 'normal': False,
                                 'reading': 'Fruit(Sam) = Pear',
                                 'relevant': False,
                                 'status': 'CONSEQUENCE',
                                 'typ': 'Bool',
                                 'value': True},
           '__rank': 9999,
           '∀Monkey ∈ Monkey_t : Fruit(Monkey) = Pear ⇒ Place(Monkey) ≠ Branch': {'environmental': False,
                                                                                  'is_assignment': False,
                                                                                  'normal': False,
                                                                                  'reading': '∀Monkey ∈ Monkey_t : '
                                                                                             'Fruit(Monkey) = Pear ⇒ '
                                                                                             'Place(Monkey) ≠ Branch',
                                                                                  'relevant': False,
                                                                                  'status': 'UNIVERSAL',
                                                                                  'typ': 'Bool',
                                                                                  'value': True},
           '∀Monkey ∈ Monkey_t : Monkey = Mike ⇒ Fruit(Monkey) ≠ Orange': {'environmental': False,
                                                                           'is_assignment': False,
                                                                           'normal': False,
                                                                           'reading': '∀Monkey ∈ Monkey_t : Monkey = '
                                                                                      'Mike ⇒ Fruit(Monkey) ≠ Orange',
                                                                           'relevant': False,
                                                                           'status': 'UNIVERSAL',
                                                                           'typ': 'Bool',
                                                                           'value': True}},
 'Place': {'Place(Anna)': {'environmental': False,
                           'is_assignment': True,
                           'normal': True,
                           'reading': 'Place(Anna)',
                           'relevant': False,
                           'status': 'UNIVERSAL',
                           'typ': 'Place_t',
                           'value': 'Stream',
                           'values': ['Grass', 'Rock', 'Branch', 'Stream']},
           'Place(Anna) = Branch': {'environmental': False,
                                    'is_assignment': True,
                                    'normal': False,
                                    'reading': 'Place(Anna) = Branch',
                                    'relevant': False,
                                    'status': 'CONSEQUENCE',
                                    'typ': 'Bool',
                                    'value': False},
           'Place(Anna) = Grass': {'environmental': False,
                                   'is_assignment': True,
                                   'normal': False,
                                   'reading': 'Place(Anna) = Grass',
                                   'relevant': False,
                                   'status': 'CONSEQUENCE',
                                   'typ': 'Bool',
                                   'value': False},
           'Place(Anna) = Rock': {'environmental': False,
                                  'is_assignment': True,
                                  'normal': False,
                                  'reading': 'Place(Anna) = Rock',
                                  'relevant': False,
                                  'status': 'CONSEQUENCE',
                                  'typ': 'Bool',
                                  'value': False},
           'Place(Anna) = Stream': {'environmental': False,
                                    'is_assignment': True,
                                    'normal': False,
                                    'reading': 'Place(Anna) = Stream',
                                    'relevant': False,
                                    'status': 'UNIVERSAL',
                                    'typ': 'Bool',
                                    'value': True},
           'Place(Harriet)': {'environmental': False,
                              'is_assignment': True,
                              'normal': True,
                              'reading': 'Place(Harriet)',
                              'relevant': True,
                              'status': 'CONSEQUENCE',
                              'typ': 'Place_t',
                              'value': 'Rock',
                              'values': ['Grass', 'Rock', 'Branch', 'Stream']},
           'Place(Harriet) = Branch': {'environmental': False,
                                       'is_assignment': True,
                                       'normal': False,
                                       'reading': 'Place(Harriet) = Branch',
                                       'relevant': True,
                                       'status': 'UNIVERSAL',
                                       'typ': 'Bool',
                                       'value': False},
           'Place(Harriet) = Grass': {'environmental': False,
                                      'is_assignment': True,
                                      'normal': False,
                                      'reading': 'Place(Harriet) = Grass',
                                      'relevant': False,
                                      'status': 'CONSEQUENCE',
                                      'typ': 'Bool',
                                      'value': False},
           'Place(Harriet) = Rock': {'environmental': False,
                                     'is_assignment': True,
                                     'normal': False,
                                     'reading': 'Place(Harriet) = Rock',
                                     'relevant': True,
                                     'status': 'CONSEQUENCE',
                                     'typ': 'Bool',
                                     'value': True},
           'Place(Harriet) = Stream': {'environmental': False,
                                       'is_assignment': True,
                                       'normal': False,
                                       'reading': 'Place(Harriet) = Stream',
                                       'relevant': False,
                                       'status': 'CONSEQUENCE',
                                       'typ': 'Bool',
                                       'value': False},
           'Place(Mike)': {'environmental': False,
                           'is_assignment': True,
                           'normal': True,
                           'reading': 'Place(Mike)',
                           'relevant': False,
                           'status': 'CONSEQUENCE',
                           'typ': 'Place_t',
                           'value': 'Branch',
                           'values': ['Grass', 'Rock', 'Branch', 'Stream']},
           'Place(Mike) = Branch': {'environmental': False,
                                    'is_assignment': True,
                                    'normal': False,
                                    'reading': 'Place(Mike) = Branch',
                                    'relevant': False,
                                    'status': 'CONSEQUENCE',
                                    'typ': 'Bool',
                                    'value': True},
           'Place(Mike) = Grass': {'environmental': False,
                                   'is_assignment': True,
                                   'normal': False,
                                   'reading': 'Place(Mike) = Grass',
                                   'relevant': False,
                                   'status': 'CONSEQUENCE',
                                   'typ': 'Bool',
                                   'value': False},
           'Place(Mike) = Rock': {'environmental': False,
                                  'is_assignment': True,
                                  'normal': False,
                                  'reading': 'Place(Mike) = Rock',
                                  'relevant': False,
                                  'status': 'CONSEQUENCE',
                                  'typ': 'Bool',
                                  'value': False},
           'Place(Mike) = Stream': {'environmental': False,
                                    'is_assignment': True,
                                    'normal': False,
                                    'reading': 'Place(Mike) = Stream',
                                    'relevant': False,
                                    'status': 'CONSEQUENCE',
                                    'typ': 'Bool',
                                    'value': False},
           'Place(Sam)': {'environmental': False,
                          'is_assignment': True,
                          'normal': True,
                          'reading': 'Place(Sam)',
                          'relevant': False,
                          'status': 'UNIVERSAL',
                          'typ': 'Place_t',
                          'value': 'Grass',
                          'values': ['Grass', 'Rock', 'Branch', 'Stream']},
           'Place(Sam) = Branch': {'environmental': False,
                                   'is_assignment': True,
                                   'normal': False,
                                   'reading': 'Place(Sam) = Branch',
                                   'relevant': False,
                                   'status': 'CONSEQUENCE',
                                   'typ': 'Bool',
                                   'value': False},
           'Place(Sam) = Grass': {'environmental': False,
                                  'is_assignment': True,
                                  'normal': False,
                                  'reading': 'Place(Sam) = Grass',
                                  'relevant': False,
                                  'status': 'UNIVERSAL',
                                  'typ': 'Bool',
                                  'value': True},
           'Place(Sam) = Rock': {'environmental': False,
                                 'is_assignment': True,
                                 'normal': False,
                                 'reading': 'Place(Sam) = Rock',
                                 'relevant': False,
                                 'status': 'CONSEQUENCE',
                                 'typ': 'Bool',
                                 'value': False},
           'Place(Sam) = Stream': {'environmental': False,
                                   'is_assignment': True,
                                   'normal': False,
                                   'reading': 'Place(Sam) = Stream',
                                   'relevant': False,
                                   'status': 'CONSEQUENCE',
                                   'typ': 'Bool',
                                   'value': False},
           '__rank': 9999,
           '∀Monkey ∈ Monkey_t : Monkey = Anna ⇒ Place(Monkey) = Stream ∧ Fruit(Monkey) ≠ Pear': {'environmental': False,
                                                                                                  'is_assignment': False,
                                                                                                  'normal': False,
                                                                                                  'reading': '∀Monkey '
                                                                                                             '∈ '
                                                                                                             'Monkey_t '
                                                                                                             ': Monkey '
                                                                                                             '= Anna ⇒ '
                                                                                                             'Place(Monkey) '
                                                                                                             '= Stream '
                                                                                                             '∧ '
                                                                                                             'Fruit(Monkey) '
                                                                                                             '≠ Pear',
                                                                                                  'relevant': False,
                                                                                                  'status': 'UNIVERSAL',
                                                                                                  'typ': 'Bool',
                                                                                                  'value': True},
           '∀Monkey ∈ Monkey_t : Monkey = Harriet ⇒ Place(Monkey) ≠ Branch': {'environmental': False,
                                                                              'is_assignment': False,
                                                                              'normal': False,
                                                                              'reading': '∀Monkey ∈ Monkey_t : Monkey '
                                                                                         '= Harriet ⇒ Place(Monkey) ≠ '
                                                                                         'Branch',
                                                                              'relevant': False,
                                                                              'status': 'UNIVERSAL',
                                                                              'typ': 'Bool',
                                                                              'value': True},
           '∀Monkey ∈ Monkey_t : Monkey = Sam ⇒ Place(Monkey) = Grass ∧ Fruit(Monkey) ≠ Banana': {'environmental': False,
                                                                                                  'is_assignment': False,
                                                                                                  'normal': False,
                                                                                                  'reading': '∀Monkey '
                                                                                                             '∈ '
                                                                                                             'Monkey_t '
                                                                                                             ': Monkey '
                                                                                                             '= Sam ⇒ '
                                                                                                             'Place(Monkey) '
                                                                                                             '= Grass '
                                                                                                             '∧ '
                                                                                                             'Fruit(Monkey) '
                                                                                                             '≠ Banana',
                                                                                                  'relevant': False,
                                                                                                  'status': 'UNIVERSAL',
                                                                                                  'typ': 'Bool',
                                                                                                  'value': True},
           '∀Monkey ∈ Monkey_t : Place(Monkey) = Rock ⇒ Fruit(Monkey) = Apple': {'environmental': False,
                                                                                 'is_assignment': False,
                                                                                 'normal': False,
                                                                                 'reading': '∀Monkey ∈ Monkey_t : '
                                                                                            'Place(Monkey) = Rock ⇒ '
                                                                                            'Fruit(Monkey) = Apple',
                                                                                 'relevant': False,
                                                                                 'status': 'UNIVERSAL',
                                                                                 'typ': 'Bool',
                                                                                 'value': True},
           '∀m1 ∈ Monkey_t : ∀m2 ∈ Monkey_t : m2 ≠ m1 ⇒ Place(m1) ≠ Place(m2) ∧ Fruit(m1) ≠ Fruit(m2)': {'environmental': False,
                                                                                                         'is_assignment': False,
                                                                                                         'normal': False,
                                                                                                         'reading': '∀m1 '
                                                                                                                    '∈ '
                                                                                                                    'Monkey_t '
                                                                                                                    ': '
                                                                                                                    '∀m2 '
                                                                                                                    '∈ '
                                                                                                                    'Monkey_t '
                                                                                                                    ': '
                                                                                                                    'm2 '
                                                                                                                    '≠ '
                                                                                                                    'm1 '
                                                                                                                    '⇒ '
                                                                                                                    'Place(m1) '
                                                                                                                    '≠ '
                                                                                                                    'Place(m2) '
                                                                                                                    '∧ '
                                                                                                                    'Fruit(m1) '
                                                                                                                    '≠ '
                                                                                                                    'Fruit(m2)',
                                                                                                         'relevant': False,
                                                                                                         'status': 'UNIVERSAL',
                                                                                                         'typ': 'Bool',
                                                                                                         'value': True}}}
